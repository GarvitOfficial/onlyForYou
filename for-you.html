<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For You</title>
  <script>
    // Check if user has decoded name, if not redirect to secretcode.html
    window.addEventListener('DOMContentLoaded', () => {
      const decodedName = localStorage.getItem('decodedName');
      if (!decodedName) {
        window.location.href = 'secretcode.html';
      } else {
        document.title = `For ${decodedName}`;
      }
    });
  </script>
  <meta name="theme-color" content="#764ba2" />
  <style>
    :root {
      --bg-start: #ff9ff3;
      --bg-end: #a29bfe;
      --text-primary: #ffffff;
      --accent: #ffd700;
    }
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      font-family: "Segoe UI", Arial, sans-serif;
      color: var(--text-primary);
      background: linear-gradient(135deg, var(--bg-start), var(--bg-end));
      overflow: hidden;
    }
    /* Canvas behind content */
    #c { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; pointer-events: none; }

    .container {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      text-align: center;
      padding: 24px;
    }
    .title {
      font-size: 2.4rem;
      font-weight: 800;
      letter-spacing: 0.5px;
      margin: 0 0 6px 0;
      text-shadow: 0 6px 24px rgba(0,0,0,0.25);
    }
    .subtitle {
      font-size: 1.05rem;
      opacity: 0.95;
      margin: 0 0 16px 0;
    }
    .cute-list {
      background: rgba(255,255,255,0.12);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 16px;
      padding: 16px 18px;
      max-width: 540px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
    }
    .cute-list h3 {
      margin: 0 0 8px 0;
      font-size: 1.1rem;
      color: #fff;
    }
    .cute-list ul { list-style: none; padding: 0; margin: 0; }
    .cute-list li {
      margin: 6px 0;
      font-size: 0.95rem;
    }

    .nav-home {
      position: fixed;
      top: 14px;
      left: 14px;
      padding: 10px 18px;
      background: linear-gradient(45deg, #667eea, #764ba2);
      color: white;
      text-decoration: none;
      border-radius: 22px;
      font-weight: 700;
      box-shadow: 0 4px 16px rgba(0,0,0,0.25);
      z-index: 1000;
    }

    @media (max-width: 420px) {
      .title { font-size: 1.9rem; }
      .subtitle { font-size: 0.95rem; }
      .cute-list { max-width: 92vw; padding: 12px 14px; }
      .cute-list li { font-size: 0.9rem; }
    }
  </style>
</head>
<body>
  <a href="index.html" class="nav-home">← Back to Home</a>
  <canvas id="c"></canvas>

  <div class="container">
    <h1 class="title" id="forYouTitle">For You ❤️</h1>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const decodedName = localStorage.getItem('decodedName');
    if (decodedName) {
      document.getElementById('forYouTitle').textContent = `For You, ${decodedName} ❤️`;
    }
  });
</script>
    <p class="subtitle">Sweet hearts, floating messages, and extra-cute lines — all for you.</p>
    <script>
      // Update messages with decoded name after canvas is initialized
      document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
          const decodedName = localStorage.getItem('decodedName');
          if (decodedName && window.opts && window.opts.phrases) {
            // Update the second phrase with the name
            if (opts.phrases.length > 1) {
              opts.phrases[1] = `Hi ${decodedName},\nthis is all for you`;
            }
          }
        }, 500); // Small delay to ensure canvas is initialized
      });
    </script>

    <div class="cute-list">
      <h3>Most Cute Ones</h3>
      <ul>
        <li>• You had me at “Hi”</li>
        <li>• Cutest smile award: You</li>
        <li>• My favorite notification: You</li>
        <li>• You’re my penguin — forever</li>
        <li>• You make fireworks feel magic</li>
        <li>• Still falling for you, every day</li>
        <li>• Nothing better than you</li>
        <li>• Your laugh is my favorite song</li>
        <li>• You + me = perfect</li>
        <li>• The world is softer with you</li>
      </ul>
    </div>
  </div>

  <script>
    // Heart-balloon canvas animation (mobile-friendly, flirty phrases "for you")
    var c = document.getElementById('c'), ctx = c.getContext('2d');
    var w, h;
    function resize(){ w = c.width = window.innerWidth; h = c.height = window.innerHeight; }
    resize();
    window.addEventListener('resize', resize);

    var opts = {
      phrases: [
        "For you \u2764\ufe0f",
        "Hi there,\nthis is all for you",
        "You light up\nmy sky",
        "You're beautiful\nevery day",
        "You're clever\nin every way",
        "You had me\nat hi",
        "Cutest smile\naward: You",
        "Still falling\nfor you",
        "You + me\nperfect",
        "Nothing better\nthan you",
        "For you,\nwith love \u2764\ufe0f",
        "You’re my\npenguin",
        "My favorite\nnotification: You",
        "You make fireworks\nfeel magic",
        "The world is softer\nwith you"
      ],
      balloons: 24,
      baseVelY: -0.9,
      addedVelY: -1.3,
      baseVelX: -0.15,
      addedVelX: 0.55,
      baseSize: 22,
      addedSize: 12,
      baseSizeAdder: 2,
      addedSizeAdder: 2,
      baseIncrementer: .01,
      addedIncrementer: .03,
      baseHue: 340,
      addedHue: 40,
      font: '16px \"Segoe UI\", Arial'
    };

    var cycle = 0, balloonsArr = [];
    ctx.font = opts.font;

    function Balloon(){ this.reset(); }
    Balloon.prototype.reset = function(){
      this.size = opts.baseSize + opts.addedSize * Math.random();
      this.sizeAdder = opts.baseSizeAdder + opts.addedSizeAdder * Math.random();
      this.incrementer = opts.baseIncrementer + opts.addedIncrementer * Math.random();
      this.tick = 0;
      this.x = Math.random() * w;
      this.y = h + this.size;
      this.vx = opts.baseVelX + opts.addedVelX * Math.random();
      this.vy = opts.baseVelY + opts.addedVelY * Math.random();
      this.color = 'hsla(' + (opts.baseHue + opts.addedHue * Math.random()) + ',70%,60%,0.9)';
      this.phrase = opts.phrases[++cycle % opts.phrases.length].split('\n');
      this.lengths = [];
      for(var i=0;i<this.phrase.length;++i)
        this.lengths.push(-ctx.measureText(this.phrase[i]).width / 2);
    };
    Balloon.prototype.step = function(){
      this.tick += this.incrementer;
      this.x += this.vx;
      this.y += this.vy;
      var size = this.size + this.sizeAdder * Math.sin(this.tick);

      // string
      ctx.lineWidth = size / 40;
      ctx.strokeStyle = '#eee';
      ctx.beginPath();
      ctx.moveTo(this.x, this.y - 2);
      ctx.lineTo(this.x, this.y + size);
      ctx.stroke();

      // heart balloon
      ctx.fillStyle = this.color;
      ctx.save();
      ctx.translate(this.x, this.y);
      ctx.rotate(Math.PI / 4);
      ctx.beginPath();
      ctx.moveTo(0, 0);
      ctx.arc(-size/2, -size/2 + size/4, size/4, Math.PI/2, Math.PI*3/2);
      ctx.arc(-size/2 + size/4, -size/2, size/4, Math.PI, Math.PI*2);
      ctx.lineTo(0, 0);
      ctx.fill();
      ctx.restore();

      // phrase text under balloon
      ctx.save();
      ctx.translate(this.x, this.y + size + 18);
      ctx.scale(size / this.size, size / this.size);
      ctx.fillStyle = '#eee';
      for(var i=0;i<this.phrase.length;++i)
        ctx.fillText(this.phrase[i], this.lengths[i], i * 17);
      ctx.restore();

      if(this.y < -size * 3) this.reset();
    };

    function anim(){
      window.requestAnimationFrame(anim);
      ctx.fillStyle = 'rgba(20,20,30,0.5)';
      ctx.fillRect(0, 0, w, h);
      if(balloonsArr.length < opts.balloons && Math.random() < 0.1)
        balloonsArr.push(new Balloon());
      for(var i=0;i<balloonsArr.length;++i)
        balloonsArr[i].step();
    }
    anim();
  </script>
</body>
</html>